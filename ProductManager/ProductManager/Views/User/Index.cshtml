@using System.Text.RegularExpressions
@model ProductManager.ViewModels.UserViewModel
@{
}

<h1>Company Users</h1>



@foreach(var user in Model.Users)
{
    // Define the regex pattern
    var pattern = $"user";
    bool isSystemGenerated = Regex.IsMatch(user.Username, pattern);

    // If the name was generated by the system return no values
    if (isSystemGenerated)
    {
        <div style="display: inline-block; width: 500px;">
            <label>UserName</label>
            <input class="form-control" />
            <span class="text-danger"></span>
        </div>

        <div style="display: inline-block; width: 500px;">
            <label>Password</label>
            <input class="form-control" />
            <span class="text-danger"></span>
        </div>

        <button asp-route-UserId="@user.UserId">
            Edit
        </button>
    }
    else // return a hidden password
    {
        <div style="display: inline-block; width: 500px;">
            <label>UserName</label>
            <input class="form-control" value="@user.Username" />
            <span class="text-danger"></span>
        </div>

        <div style="display: inline-block; width: 500px;">
            <label>Password</label>
            <div class="input-group">
                <input type="password" value="@user.Password" class="form-control" />
                <span class="text-danger"></span>
            </div>
        </div>

        <button asp-route-UserId="@user.UserId">
            Edit
        </button>
    }
}